div.menu-secondary.extrabar.wiki-nav
    header
        h1.title(translate="WIKI.NAVIGATION.SECTION_NAME")

    ul.wiki-link-container(*ngIf="project")
        li.wiki-link.fixed-link
            a.link-title(
                [routerLink]="['/project', project.get('slug'), 'wiki']",
                translate="WIKI.NAVIGATION.HOME"
            )

    ul.sortable.wiki-link-container
        // data-id!="{{ $index }}"
        // tg-class-permission="{'is-sortable': 'add_wiki_link'}"
        li.wiki-link.e2e-wiki-page-link(
            *ngFor="let link of links"
        )
            // TODO , *ngif="'addWikiLinkPermission"
            tg-svg.dragger(svg-icon="icon-drag")

            a.link-title(
                [title]="link.get('title')",
                [routerLink]="['/project', project?.get('slug'), 'wiki', link.get('href')]"
            ) {{ link.get('title') }}

            // TODO , *ngif="'deleteWikiLinkPermission"
            a.js-delete-link.remove-wiki-page([title]="'WIKI.DELETE_LINK_TITLE' | translate")
                tg-svg(svg-icon="icon-trash")

            input.hidden(
                type="text",
                [placeholder]="'COMMON.FIELDS.NAME' | translate",
                [value]="link.get('title')"
            )

    ul.sortable.wiki-link-container
        li.new.hidden
            input(
                type="text",
                [placeholder]="'COMMON.FIELDS.NAME' | translate"
            )
    //
    // // *ngIF="addWikiLinkPermission"
    a.add-button(
        href="",
        [title]="'WIKI.NAVIGATION.ACTION_ADD_LINK' | translate"
    )
        tg-svg(svg-icon="icon-add")
        span(translate="WIKI.NAVIGATION.ACTION_ADD_LINK")

    ul.wiki-link-container.wiki-all-links(*ngIf="links?.size && project")
        li.wiki-link.fixed-link
            a.link-title(
                [routerLink]="['/project', project?.get('slug'), 'wikiLinks']",
                translate="WIKI.NAVIGATION.ALL_PAGES"
            )
