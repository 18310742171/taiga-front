div.wrapper
    tg-project-menu([project]="project|async")

    section.main.kanban
        // q="ctrl.filterQ"
        // filters="ctrl.filters"
        // custom-filters="ctrl.customFilters"
        // selected-filters="ctrl.selectedFilters"
        // customFilters="ctl.customFilters"
        // on-save-custom-filter="ctrl.saveCustomFilter(name)"
        // on-add-filter="ctrl.addFilter(filter)"
        // on-select-custom-filter="ctrl.selectCustomFilter(filter)"
        // on-remove-custom-filter="ctrl.removeCustomFilter(filter)"
        // on-remove-filter="ctrl.removeFilter(filter)"
        // on-change-q="ctrl.changeQ(q)"
        tg-filter(
            [class.open]="filtersOpen",
            section="kanban",
            [appliedFilters]="appliedFilters|async",
            [filters]="filters|async",
        )

        .kanban-header
            tg-main-title([projectName]="(project | async)?.get('name')", [sectionName]="section")
            .taskboard-actions
                // .zoom-loading(tg-loading="ctrl.zoomLoading")
                tg-kanban-board-zoom([value]="(zoom | async).level")

                button.button-filter.e2e-open-filter(
                    (click)="toggleFiltersOpen()"
                    title="{{selectedFiltersCount}} {{'COMMON.FILTERS.APPLIED_FILTERS_NUM' | translate}}"
                )
                    span.filter-num(*ngIf="selectedFiltersCount") {{selectedFiltersCount}}
                    tg-svg(svg-icon="icon-filters")

        tg-kanban-table([project]="project | async", [userstories]="userstoriesByState | async", [zoom]="zoom | async")

    // div.lightbox.lightbox-generic-form.lb-create-edit-userstory(tg-lb-create-edit-userstory)
    //     include ../includes/modules/lightbox-us-create-edit
    //
    // div.lightbox.lightbox-generic-bulk(tg-lb-create-bulk-userstories)
    //     include ../includes/modules/lightbox-us-bulk
    //
    // div.lightbox.lightbox-select-user(tg-lb-assignedto)
